{"ast":null,"code":"import _objectSpread from \"/Users/mina/Code/stock-frontend-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/mina/Code/stock-frontend-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mina/Code/stock-frontend-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/mina/Code/stock-frontend-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/mina/Code/stock-frontend-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/mina/Code/stock-frontend-v2/src/pages/AddMovie/index.js\";\nimport React from \"react\";\nimport Joi from \"joi\";\nimport { connect } from \"react-redux\";\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addMovie as _addMovie } from \"../../actions/moviesAction\";\nimport { movieSchema } from \"./schema\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AddMovieForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddMovieForm, _React$Component);\n  var _super = _createSuper(AddMovieForm);\n  function AddMovieForm() {\n    var _this;\n    _classCallCheck(this, AddMovieForm);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: {\n        title: \"\",\n        genre: \"\",\n        numberInStock: \"\",\n        description: \"\",\n        image: null\n      },\n      genres: [],\n      errors: {}\n    };\n    _this.handleChange = function (_ref) {\n      var input = _ref.currentTarget;\n      var data = _objectSpread({}, _this.state.data);\n      data[input.name] = input.value;\n      _this.setState({\n        data: data\n      });\n    };\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      //TODO: Validate property\n      var _Joi$valid = Joi.valid(_this.state, movieSchema),\n        error = _Joi$valid.error;\n      _this.setState({\n        errors: error\n      });\n      if (!error) _this.props.addMovie(_this.state.data);\n    };\n    _this.uploadImage = function (e) {\n      if (e.target.files[0]) {\n        var data = _objectSpread({}, _this.state.data);\n        data.image = e.target.files[0];\n        _this.setState({\n          data: data\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(AddMovieForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        errors = _this$state.errors,\n        data = _this$state.data;\n      var title = data.title,\n        genre = data.genre,\n        numberInStock = data.numberInStock;\n      var genres = this.props.genres;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background-container pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"header\",\n            children: \"Add a new movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            encType: \"multipart/form-data\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              name: \"title\",\n              value: title,\n              label: \"Title\",\n              onChange: this.handleChange,\n              placeholder: \"Enter the title...\",\n              error: errors[\"title\"],\n              iconClass: \"fas fa-film\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"genre\",\n              label: \"Genre\",\n              onChange: this.handleChange,\n              value: genre,\n              error: errors[\"genre\"],\n              options: genres,\n              iconClass: \"fas fa-address-card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"numberInStock\",\n              label: \"Number In Stock\",\n              onChange: this.handleChange,\n              placeholder: \"Enter numbers the stock...\",\n              error: errors[\"numberInStock\"],\n              iconClass: \"fas fa-hashtag\",\n              value: numberInStock,\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"image\",\n              label: \"Cover Image\",\n              onChange: this.uploadImage,\n              error: errors[\"coverImage\"],\n              iconClass: \"fas fa-file-image\",\n              accept: \"image/*\",\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"description\",\n              label: \"Description\",\n              placeholder: \"Enter description about this movie...\",\n              iconClass: \"fas fa-info\",\n              error: errors[\"description\"],\n              type: \"textarea\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return AddMovieForm;\n}(React.Component);\nvar mapDispatchToProps = function mapDispatchToProps(dipatch) {\n  return {\n    addMovie: function addMovie(movie) {\n      return dipatch(_addMovie(movie));\n    }\n  };\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    genres: state.genre.genres\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMovieForm);","map":{"version":3,"names":["React","Joi","connect","Input","Select","addMovie","movieSchema","jsxDEV","_jsxDEV","AddMovieForm","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","data","title","genre","numberInStock","description","image","genres","errors","handleChange","_ref","input","currentTarget","_objectSpread","name","value","setState","handleSubmit","e","preventDefault","_Joi$valid","valid","error","props","uploadImage","target","files","_createClass","key","render","_this$state","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","encType","label","onChange","placeholder","iconClass","autoFocus","options","type","accept","Component","mapDispatchToProps","dipatch","movie","mapStateToProps"],"sources":["/Users/mina/Code/stock-frontend-v2/src/pages/AddMovie/index.js"],"sourcesContent":["import React from \"react\";\nimport Joi from \"joi\";\nimport { connect } from \"react-redux\";\n\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addMovie } from \"../../actions/moviesAction\";\nimport { movieSchema } from \"./schema\";\n\nclass AddMovieForm extends React.Component {\n  state = {\n    data: {\n      title: \"\",\n      genre: \"\",\n      numberInStock: \"\",\n      description: \"\",\n      image: null,\n    },\n    genres: [],\n    errors: {},\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    //TODO: Validate property\n    const { error } = Joi.valid(this.state, movieSchema);\n    this.setState({ errors: error });\n    if (!error) this.props.addMovie(this.state.data);\n  };\n\n  uploadImage = (e) => {\n    if (e.target.files[0]) {\n      const data = { ...this.state.data };\n      data.image = e.target.files[0];\n      this.setState({ data });\n    }\n  };\n\n  render() {\n    const { errors, data } = this.state;\n    const { title, genre, numberInStock } = data;\n    const { genres } = this.props;\n\n    return (\n      <div className=\"background-container pt-5\">\n        <div className=\"container\">\n          <h1 className=\"header\">Add a new movie</h1>\n\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n            <Input\n              name=\"title\"\n              value={title}\n              label=\"Title\"\n              onChange={this.handleChange}\n              placeholder=\"Enter the title...\"\n              error={errors[\"title\"]}\n              iconClass=\"fas fa-film\"\n              autoFocus\n            />\n\n            <Select\n              name=\"genre\"\n              label=\"Genre\"\n              onChange={this.handleChange}\n              value={genre}\n              error={errors[\"genre\"]}\n              options={genres}\n              iconClass=\"fas fa-address-card\"\n            />\n\n            <Input\n              name=\"numberInStock\"\n              label=\"Number In Stock\"\n              onChange={this.handleChange}\n              placeholder=\"Enter numbers the stock...\"\n              error={errors[\"numberInStock\"]}\n              iconClass=\"fas fa-hashtag\"\n              value={numberInStock}\n              type=\"number\"\n            />\n\n            <Input\n              name=\"image\"\n              label=\"Cover Image\"\n              onChange={this.uploadImage}\n              error={errors[\"coverImage\"]}\n              iconClass=\"fas fa-file-image\"\n              accept=\"image/*\"\n              type=\"file\"\n            />\n\n            <Input\n              name=\"description\"\n              label=\"Description\"\n              placeholder=\"Enter description about this movie...\"\n              iconClass=\"fas fa-info\"\n              error={errors[\"description\"]}\n              type=\"textarea\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = (dipatch) => {\n  return {\n    addMovie: (movie) => dipatch(addMovie(movie)),\n  };\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    genres: state.genre.genres,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMovieForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}